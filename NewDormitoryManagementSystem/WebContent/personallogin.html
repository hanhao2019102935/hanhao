<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>登录页面</title>

<script type="text/javascript">
	function login() {
		$.ajax({
					url : "http://localhost:8080/DormitoryManagementSystem/admin/login.do",
					type : "post",
					data : {
						username : $("#username").val(),
						password : $("#password").val(),
					},
					datatype : "text",
					success : function(admin) {
						if (admin.usertype == 1) {
							window.location.href = "personalIndex.html";
						} else if (admin.usertype == 0) {
							window.location.href = "managerIndex.html";
						} else {
							window.location.href = "personallogin.html";
						}
					},
					error : function(xhr) {
						//window.location.href = "personallogin.html";
						alert("错误提示： " + xhr.status + " " + xhr.statusText);

					}
				});
	}
</script>
</head>
<body>
	<form action="" autocomplete="off">
		<input type="text" id="username" name="username" placeholder=" 用户名" />
		<input type="password" id="password" name="password" placeholder=" 密码" />
		<a id="login" href="#" onclick="login()">登录</a>
	</form>
	
	<div id="mpanel4" style="margin-top:50px;">   </div>
	
	
	<script type="text/javascript" src="js/jquery.min.js" ></script>        
    <script type="text/javascript" src="js/verify.min.js" ></script>
        <script type="text/javascript">     
		    
		    
		    $('#mpanel4').slideVerify({
		    	type : 2,		//类型
        		vOffset : 5,	//误差量，根据需求自行调整
		        vSpace : 5,	//间隔
		        imgName : ['1.jpg', '2.jpg'],
		        imgSize : {
		        	width: '400px',
		        	height: '200px',
		        },
		        blockSize : {
		        	width: '40px',
		        	height: '40px',
		        },
		        barSize : {
		        	width : '400px',
		        	height : '40px',
		        },
		        ready : function() {
		    	},
		        success : function() {
		        	alert('验证成功！');
		        	//......后续操作
		        },
		        error : function() {
//		        	alert('验证失败！');
		        }
		        
		    });	
		    
        </script> 
	
	
</body>
</html>